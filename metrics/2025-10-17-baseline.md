# Baseline Metrics Snapshot â€“ 2025-10-17

**Date:** 2025-10-17  
**Commit:** 283170290a727386bf66c4b4e8edd945ca460410  
**Suite:** Full (Unit + Functional + Integration)  
**Runtime:** 36.7s (wall clock)  
**Coverage:**  
- Lines: 39.11%  
- Methods: 49.12%  
- Classes: 15.23%

---

## Test Counts

- **Unit tests:** [not split, see total]
- **Functional tests:** [not split, see total]
- **Integration tests:** [not split, see total]
- **Total tests:** 467
- **Assertions:** 2660

---

## Notable Structural Changes

- All event-centric tests now use Foundry factories; legacy fixtures removed from event tests.
- Transactional DB isolation (DAMA) active for functional/integration tests.
- Substring assertions purged; structural selectors and response assertions adopted.
- Nullability and immutable timestamp batch 1 applied; batch 2 pending.
- Bilingual admin route acceptance tests present and stable.
- Initial Infection mutation baseline run performed (see mutation-baseline.md).
- Generics annotations for Sonata Admin and CRUD controllers completed.
- TESTING.md expanded with new test writing checklist and anti-patterns.

---

## Next Focus

- Complete semantic state coverage and documentation for factories.
- Finalize nullability batch 2 for Event/Happening entities.
- Harden parallel test execution (ensureCmsBaseline idempotency).
- Expand negative path coverage (auth boundaries, invalid form submissions).
- Populate phpstan-triage.md after batch 2 and mutation survivor review.

---

## Historical Context

This snapshot captures the state after the October 2025 refactor wave:
- Factory-driven test data patterns adopted.
- Transactional isolation and deterministic test runs.
- Substring assertion purge completed.
- Mutation and static analysis synergy established.

---

## How to Update

1. Run the full test suite (`make test`).
2. Record runtime, coverage, and test counts above.
3. Note any major structural or policy changes since the last snapshot.
4. Append this file; do not overwrite or delete previous snapshots.

---